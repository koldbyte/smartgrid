version: '2.1'
services:
  flink-kafka-hbase:
    extends:
      service: flink-kafka-hbase
      file: ./Flink-Hbase-Kafka/docker-compose.yml
    networks:
      - smartgrid
    volumes:
      - /app/smartgrid/data:/data

  elasticsearch:
    extends:
      service: elasticsearch
      file: ./elasticsearch/docker-compose.yml
    networks:
      - smartgrid
    volumes:
      - /app/smartgrid/es-data:/usr/share/elasticsearch/data

  elasticsearch2:
    extends:
      service: elasticsearch2
      file: ./elasticsearch/docker-compose.yml
    networks:
      - smartgrid
    volumes:
      - /app/smartgrid/es-data-2:/usr/share/elasticsearch/data

  kibana:
    extends:
      service: kibana
      file: ./kibana/docker-compose.yml
    networks:
      - smartgrid

  kafka_manager:
    extends:
      service: kafka_manager
      file: ./kafka-manager/docker-compose.yml
    networks:
      - smartgrid

networks:
  smartgrid:
    driver: bridge
    enable_ipv6: true